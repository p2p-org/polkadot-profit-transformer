---
environment: mbelt3-prod
replicas: 10
chain: polkadot
role: block-processor
limits: { cpu: 250m, memory: 10000Mi }
requests: { cpu: 150m, memory: 10000Mi }
image:
  {
    repository: eu.gcr.io/substrate-infra/mbelt3_preloader,
    tag: e754f3b8a4fb1b2aae3e500c134f8c16e70d4da8,
  }
port: 3000
metrics:
  enabled: true
vault:
  role: "mbelt"
  secret: "secret/mbelt/mbelt3"
additional_args:
  - "--max_old_space_size=400"
env:
  substrate_uri: ws://polkadot-node-0.polkadot-node.polkadot.svc.cluster.local:9944
  log_level: info
  network_id: 1
  mode: BLOCK_PROCESSOR
  network: polkadot
ingress:
  enabled: true
  class: nginx-external
  host: mbelt3-block-processor.polka.p2p.world
  tls:
    cluster_issuer: cloudflare-prod
    secret: mbelt3-block-processor-polka-p2p-world
    ssl_redirect: true
