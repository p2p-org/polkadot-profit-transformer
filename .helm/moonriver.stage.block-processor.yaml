---
environment: stage
replicas: 1
chain: moonriver
role: block-processor
limits: {cpu: 350m, memory: 400Mi}
requests: {cpu: 250m, memory: 400Mi}
image: {repository: eu.gcr.io/substrate-infra/mbelt3_preloader, tag: 898ce6b1d856c5162e562b974b082efcf4c7fe86}
port: 3000
metrics:
  enabled: true
vault:
  role: "mbelt"
  secret: "secret/mbelt/stage_moonriver"
additional_args:
  - "--max_old_space_size=400"
env:
  # substrate_uri: ws://moonriver-node-0.moonriver-node.moonriver.svc.cluster.local:9945
  substrate_uri: ws://10.41.4.2:9945
  log_level: info
  network_id: 25
  mode: BLOCK_PROCESSOR
  network: moonriver
ingress:
  enabled: true
  class: nginx-external
  host: mbelt-stage-moonriver-block-processor.polka.p2p.world
  tls:
    cluster_issuer: cloudflare-prod
    secret: mbelt-stage-moonriver-block-processor-polka-p2p-world
    ssl_redirect: true
